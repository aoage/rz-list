@page "/userlists"
@using Microsoft.AspNetCore.Authorization
@using Microsoft.EntityFrameworkCore
@using Microsoft.AspNetCore.Components
@using Models.Entities
@using Data
@implements IAsyncDisposable
@inject IDbContextFactory<Data.RzListDbContext> DbFactory

@attribute [Authorize]

<PageTitle>Index</PageTitle>

<MudContainer MaxWidth="MaxWidth.ExtraExtraLarge" Class="mt-4">
    <MudText Typo="Typo.h3" GutterBottom="true">My Lists</MudText>

    <MudButton Variant="Variant.Filled" Color="Color.Primary" StartIcon="@Icons.Material.Filled.Add" Href="users/create"
        Class="mb-4">
        Create New List
    </MudButton>

</MudContainer>

@code {
    private RzListDbContext context = default!;

    protected override void OnInitialized()
    {
        context = DbFactory.CreateDbContext();
    }

    public async ValueTask DisposeAsync() => await context.DisposeAsync();
}
